---
layout: post
title:  "Javascripts 101: ปูพื้นฐานแบบแน่นๆ"
subtitle: "ปูพื้นฐาน javascripts กันใหม่กันเถอะ"
date:   2017-01-16 02:15:41 +0700
categories: javascripts framework
image: https://unsplash.it/850/360
---

เชื่อว่าหลายๆคนคงเขียน javascripts มากันพอสมควรแล้ว แต่น่าจะมีหลายคนที่อาจจะมองข้ามพื้นฐานเล็กๆน้อยๆไป ซึ่งผมก็เป็นหนึ่งในนั้น แต่หลังจากที่ไปศึกษาพื้นฐานในระดับลึกลงไปแล้ว ผมคิดว่าส่วนนี้สำคัญมากการในทำงาน ซึ่งคาดว่าจะช่วยให้การเขียนโค้ดของเราดีขึ้น เนื่องจากเราจะได้เห็นภาพอะไรบางอย่างที่แตกต่างออกไป ซึ่งเราจะมาเริ่มตั้งแต่การประกาศตัวแปร ไปจนถึงเรื่องใหม่ๆบน ES6 ในระดับละเอียดลงไปอีกระดับ

ก่อนอื่นมารู้คำศัพท์กันก่อน จะได้เข้าใจตรงกันนะฮะ

### คำศัพท์

- EcmaScript (ES)

Ecmascript เป็นมาตรฐานของภาษาจาวาสคริปโดยมีการพัฒนาพื้นฐานมาเรื่อยๆจนถึงปัจจุบัน โดยในปัจจุบันที่รองรับในบราวเซอร์ทั่วไป คือ `ES5` 

และเมื่อปีที่แล้วได่ทำการประกาศมาตรฐานรุ่นใหม่ขึ้นมาชื่อ `ES6` หรือ `ES2015` ซึ่งมีการปรับปรุงและเพิ่มเติมฟีเจอร์หลายๆอย่างซึ่งช่วยให้เราสามารถเขียน javascript ได้ง่ายขึ้น

และยังมีที่มาตรฐานในยุคถัดๆที่ยังร่างกันอยู่ เช่น `ES7` `ES8`

Browser และ Node.js เวอร์ชันใหม่ได้เริ่มทำการรองรับ ES6 กันแล้ว แต่เราไม่สามารถใช้กับบราวเซอร์เก่าๆที่ยังใช้กันส่วนมากได้ แต่มีวิธีแก้ครับ

- Transplier



- Polyfill



## Variable

การประกาศตัวแปรใน Javascripts นั้น เป็นการประกาศแบบไม่ระบุ Type ของตัวแปร โดยใช้คำสั่งง่ายๆคือ `var`

```
var a = 69;
var b = "hello world";
```

หลายๆคนคงคุ้นชินอยู่แล้ว แต่จริงๆแล้วตัวแปรบนจาวาสคริปนั้นมี Type ของมันเองซึ่งแบ่งเป็น 2 ประเภทหลัก คือ

#### Primitive Types

หรือตัวแปรดั้งเดิม (แปลกูเกิลมา 55) เป็นตัวแปรประเภทค่าเดียว เช่น `String` `Number` `Boolean` `null` `undefined`
โดยสามารถประกาศตัวแปรได้ง่ายๆ

```
var a = "hello";
var b = 2;
var c = true;
var d = null;
var f = undefined;
```

ซึ่งจะเป็นคุณสมบัติคร่าวๆดังนี้

- Pass by Value

ตัวแปร Javasctipy จำพวก Primitive Types พวกนี้เป็น passby value โดยการสร้างตัวแปรใหม่ จะ copy value เดิมแล้วชี้ไปที่ memory ที่ใหม่ เช่น

```
var a = 10;
var b = a;
b += 5;

a \\ 10
b \\ 15
```

- Immutable

หรือไม่สามารถเปลี่ยนแปลงค่าได้ ทำแบบนี้ไม่ได้นะ ถึงจะไม่ error อะไรก็เถอะ

```
var a = "test"
a[1] = "4"

a \\ "test"
```


### Object Types

หรือตัวแปรที่มีค่าซับซ้อน เช่น `Object` `Array` สามารถประกาศตัวแปรได้ดังนี้

`Object` ใช้ `{}`

`Array` ใข้ `[]`

```
var a = [1,2,3];
var b = {
	x: 2
};
```

ตัวแปรประเภทนี้มีคุณสมบัติดังนี้

- Shared Value

หรือจะเป็นว่าเป็น pass by copy of references ก็ได้ โดยจริงๆแล้วค่าที่เก็บไว้นั้นเป็นค่าเดียวกัน แต่ references ที่ point ไปที่ค่านั้นเป็นคนละตัวกัน (แต่ชี้ที่เดียวกันนั้นแหละ) ดังนั้นเมื่อเราเปลี่ยนค่าในตัวแปรหนึ่ง แต่อีกค่าก็จะเปลี่ยนตาม ( แต่ไม่ใช่ pass by references นะ คนละแบบกัน เดี๋ยวอธิบายตอนหลัง)

```
var a = [0, 1, 2];
var b = a;
b.push(3)

a \\ [0, 1, 2, 3]
b \\ [0, 1, 2, 3]
```

#### Array

#### Object


### Object Wrapper



### ES6

การประกาศตัวแปรบน ES6 นั้น มีฟังก์ชันที่เพิ่มขึ้นมา โดยมีตัวเลือกให้สองแบบคือ `let` `const`

#### Let

`let` คือสิ่งที่มาแทน `var` นั่นเอง โดยจะมีคุณสมบัติพิเศษเรื่อง scope ซึ่งจะอธิบายในบทถัดไปนะ

#### Const

หรือคือตัวแปรที่ไม่สามารถเปลี่ยนแปลงค่าได้ ซึ่งเมื่อทำการ assign ค่าให้แล้ว จะไม่สามารถแก้ไข หรือ assign ค่าใหม่ได้ 
(พูดแบบละเอียดคือ ไม่สามารถเปลี่ยน pointer references ได้แล้ว) ซึ่งหากเราพยายามทำการเปลี่ยนค่า จะเกิด Error แสดงทันที

```
const a = 10;
a = 2		\\ TypeError
```

_ข้อควรระวัง_ หากใช้ const กับ Object Type เรายังสามารถเปลี่ยนแปลงค่าได้อยู่ แต่ไม่สามารถชี้ไปที่ค่าใหม่ได้

```
const b = [1,2,3];
b.push(4);

b \\ [1,2,3,4]

b = [4,5,6];  \\ TypeError
```

### Function

ฟังก์ชัน ในจาวาสคริปสามารถประกาศได้ง่ายๆโดยใช้คำสั่ง `function` โดยสามารถประกาศได้หลายแบบ

- Named Function

```

function add(x,y) {
	return x + y;
}

var a = add(10,20); // 30

```

- Anonymous Function

หรือฟังก์ชันที่ไม่มีชี่อ เราสามารถใช้ตัวแปรชี้ไปที่ฟังก์ชันนั้น และสามารถนำไปเรียกใช้ได้

```
var add = function(x,y) {
	return x + y;
}

var a = add(10,20); // 30

```

- IIFE Function (Immediately Invoked Function Expressions)

หรือการประกาศฟังก์ชันที่รันทันที

```
(function echo() {
	console.log("Hello")
})();

// Hello
```

### Lexical Scope